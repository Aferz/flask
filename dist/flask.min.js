/*!
 * Flask.js v1.0.1
 * (c) 2016 Alejandro Fernandez
 * Released under the MIT License.
 */
!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RESOLVED_LISTENER_NAME=t.GLOBAL_LISTENER_NAME=void 0;var i=r(2),o=n(i),a=r(8);o["default"]._version="1.0.1",o["default"]._env="development",t["default"]=o["default"],t.GLOBAL_LISTENER_NAME=a.GLOBAL_LISTENER_NAME,t.RESOLVED_LISTENER_NAME=a.RESOLVED_LISTENER_NAME},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.findTag=t.findService=t.findParameter=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(3),c=n(u),f=r(5),s=n(f),l=r(7),p=r(9),v=r(8),y=r(6),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.config={},this.parameters=[],this.services=[],this.tags={},this.listeners={},(0,l.configureFlask)(t,this)}return a(e,[{key:"setConfigValue",value:function(e,t){this.config[e]=t}},{key:"parameter",value:function t(e,r){var t=d(e,this);if(t)throw(0,y.paramAlreadyExistsException)(e);this.parameters.push(new p.Parameter(e,r))}},{key:"service",value:function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=h(e,this);if(r)throw(0,y.serviceAlreadyExistsException)(e);this.services.push(new p.Service(e,t,n))}},{key:"singleton",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=h(e,this);if(n)throw(0,y.serviceAlreadyExistsException)(e);this.services.push(new p.Singleton(e,t,r))}},{key:"tag",value:function(e,t){Array.isArray(t)||(t=[t]),this.tags[e]=(this.tags[e]||[]).concat(t)}},{key:"listen",value:function(e,t,r){"function"==typeof t&&(r=t,t=v.GLOBAL_LISTENER_NAME),s["default"].has(this.listeners,e)||(this.listeners[e]={}),Array.isArray(this.listeners[e][t])||(this.listeners[e][t]=[]),this.listeners[e][t].push(r)}},{key:"cfg",value:function(e){return s["default"].get(this.config,e)||null}},{key:"value",value:function n(e){var n=new c["default"](this).resolveParameter(e);return P(e,n,this),n}},{key:"make",value:function(e){var t=new c["default"](this).resolveService(e);return P(e,t,this),t}},{key:"tagged",value:function(e){var t=b(e,this);if(!t)throw(0,y.tagNotRegisteredException)(e);return w(t,this)}},{key:"call",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.wrap(e,t,r)()}},{key:"wrap",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.bind.apply(e,[r].concat(i(w(t,this))))}}]),e}();t["default"]=g;var d=t.findParameter=function(e,t){return t.parameters.find(function(t){return t.alias===e})},h=t.findService=function(e,t){return t.services.find(function(t){return t.alias===e})},b=t.findTag=function(e,t){return s["default"].get(t.tags,e)||null},w=function(e,t){var r=new c["default"](t);return e.map(function(e){return r.resolveServiceDependencies(e)})},O=function(e,t){return s["default"].has(t.listeners,e)?s["default"].get(t.listeners[e],v.GLOBAL_LISTENER_NAME)||[]:[]},E=function(e,t,r){return s["default"].has(r.listeners,e)?s["default"].get(r.listeners[e],t)||[]:[]},P=function(e,t,r){O(v.RESOLVED_LISTENER_NAME,r).concat(E(v.RESOLVED_LISTENER_NAME,e,r)).map(function(e){e(t,r)})}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(4),u=n(a),c=r(5),f=n(c),s=r(2),l=r(6),p=function(){function e(t){i(this,e),this.flask=t,this.circularDependency=[]}return o(e,[{key:"resolveParameter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=(0,s.findParameter)(e,this.flask);if(!r)throw(0,l.paramNotRegisteredException)(e);return this.resolveParameterDependencies(r.value,t)}},{key:"resolveParameterDependencies",value:function(e,t){if(this.isReferenceToParameter(e)){var r=this.extractParameterAliasFromReference(e);return this.checkCircularDependency(t,e),this.resolveParameter(r,e)}return e}},{key:"resolveService",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(0,s.findService)(e,this.flask);if(!n)throw(0,l.serviceNotRegisteredException)(e);var i=0===n.args.length?[]:n.args.map(function(e){return t.resolveServiceDependencies(e,r)});return n.build(i)}},{key:"resolveServiceDependencies",value:function(e,t){if(this.isReferenceToParameter(e)){var r=this.extractParameterAliasFromReference(e);return this.checkCircularDependency(t,e),this.resolveParameter(r,e)}if(this.isReferenceToService(e)){var n=this.extractServiceAliasFromReference(e);return this.checkCircularDependency(t,e),this.resolveService(n,e)}return e}},{key:"checkCircularDependency",value:function(e,t){if(null!==e){this.circularDependency.push([e,t]);try{(0,u["default"])(this.circularDependency)}catch(r){throw this.isReferenceToParameter(e)?(0,l.circularDependencyParameterError)(this.extractParameterAliasFromReference(e)):(0,l.circularDependencyServiceError)(this.extractServiceAliasFromReference(e))}}}},{key:"isReferenceToParameter",value:function(e){var t=f["default"].get(this.flask.config,"paramDelimiter");return"string"==typeof e&&e.match("\\"+t+".*\\"+t)}},{key:"isReferenceToService",value:function(e){var t=f["default"].get(this.flask.config,"serviceDelimiter");return"string"==typeof e&&e.match("\\"+t+".*\\"+t)}},{key:"extractParameterAliasFromReference",value:function(e){return e.substr(1,e.length-2)}},{key:"extractServiceAliasFromReference",value:function(e){return e.substr(1,e.length-2)}}]),e}();t["default"]=p},function(e,t){function r(e,t){function r(a,u,c){if(c.indexOf(a)>=0)throw new Error("Cyclic dependency: "+JSON.stringify(a));if(!~e.indexOf(a))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(a));if(!o[u]){o[u]=!0;var f=t.filter(function(e){return e[0]===a});if(u=f.length){var s=c.concat(a);do{var l=f[--u][1];r(l,e.indexOf(l),s)}while(u)}i[--n]=a}}for(var n=e.length,i=new Array(n),o={},a=n;a--;)o[a]||r(e[a],a,[]);return i}function n(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t.indexOf(i[0])<0&&t.push(i[0]),t.indexOf(i[1])<0&&t.push(i[1])}return t}e.exports=t=function(e){return r(n(e),e)},t.array=r},function(e,t,r){(function(e){!function(e){"use strict";function r(e){return/^(get|set|value|writable|enumerable|configurable)$/.test(e)}function n(e){if(Object(e)!==e)throw new TypeError("property descriptor should be an Object, given: "+e);var t={};if("enumerable"in e&&(t.enumerable=!!e.enumerable),"configurable"in e&&(t.configurable=!!e.configurable),"value"in e&&(t.value=e.value),"writable"in e&&(t.writable=!!e.writable),"get"in e){var r=e.get;if(void 0!==r&&"function"!=typeof r)throw new TypeError("property descriptor 'get' attribute must be callable or undefined, given: "+r);t.get=r}if("set"in e){var n=e.set;if(void 0!==n&&"function"!=typeof n)throw new TypeError("property descriptor 'set' attribute must be callable or undefined, given: "+n);t.set=n}if(("get"in t||"set"in t)&&("value"in t||"writable"in t))throw new TypeError("property descriptor cannot be both a data and an accessor descriptor: "+e);return t}function i(e){return void 0!==e&&("get"in e||"set"in e)}function o(e){return void 0!==e&&("value"in e||"writable"in e)}function a(e){return void 0!==e&&(!i(e)&&!o(e))}function u(e){var t=n(e);return a(t)||o(t)?("value"in t||(t.value=void 0),"writable"in t||(t.writable=!1)):("get"in t||(t.get=void 0),"set"in t||(t.set=void 0)),"enumerable"in t||(t.enumerable=!1),"configurable"in t||(t.configurable=!1),t}function c(e){return!("get"in e||"set"in e||"value"in e||"writable"in e||"enumerable"in e||"configurable"in e)}function f(e,t){return s(e.get,t.get)&&s(e.set,t.set)&&s(e.value,t.value)&&s(e.writable,t.writable)&&s(e.enumerable,t.enumerable)&&s(e.configurable,t.configurable)}function s(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function l(e){if(void 0!==e){var t=u(e);for(var n in e)r(n)||Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!0,configurable:!0});return t}}function p(e){var t=n(e);for(var i in e)r(i)||Object.defineProperty(t,i,{value:e[i],writable:!0,enumerable:!0,configurable:!0});return t}function v(e,t){return{}.hasOwnProperty.call(t,e)}function y(e,t){var r=Object.getOwnPropertyDescriptor(t,e);return void 0!==r&&r.configurable===!1}function g(e){return void 0!==e&&e.configurable===!1}function d(e,t,r){if(void 0===t&&e===!1)return!1;if(void 0===t&&e===!0)return!0;if(c(r))return!0;if(f(t,r))return!0;if(t.configurable===!1){if(r.configurable===!0)return!1;if("enumerable"in r&&r.enumerable!==t.enumerable)return!1}if(a(r))return!0;if(o(t)!==o(r))return t.configurable!==!1;if(o(t)&&o(r)){if(t.configurable===!1){if(t.writable===!1&&r.writable===!0)return!1;if(t.writable===!1&&"value"in r&&!s(r.value,t.value))return!1}return!0}if(i(t)&&i(r)&&t.configurable===!1){if("set"in r&&!s(r.set,t.set))return!1;if("get"in r&&!s(r.get,t.get))return!1}return!0}function h(e,t){var r=S(e),n=void 0;if("sealed"===t)for(var o,a=+r.length,u=0;u<a;u++){o=String(r[u]);try{Object.defineProperty(e,o,{configurable:!1})}catch(c){void 0===n&&(n=c)}}else for(var o,a=+r.length,u=0;u<a;u++){o=String(r[u]);try{var f=Object.getOwnPropertyDescriptor(e,o);if(void 0!==f){var s;s=i(f)?{configurable:!1}:{configurable:!1,writable:!1},Object.defineProperty(e,o,s)}}catch(c){void 0===n&&(n=c)}}if(void 0!==n)throw n;return J.preventExtensions(e)}function b(e,t){var r=T(e);if(r)return!1;for(var n,i,a=S(e),u=void 0,c=!1,f=!1,s=+a.length,l=0;l<s;l++){n=String(a[l]);try{i=Object.getOwnPropertyDescriptor(e,n),c=c||i.configurable,o(i)&&(f=f||i.writable)}catch(p){void 0===u&&(u=p,c=!0)}}if(void 0!==u)throw u;return("frozen"!==t||f!==!0)&&c!==!0}function w(e,t){this.target=e,this.handler=t}function O(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function E(e,t){return O(t)?e.get(t):void 0}function P(e){return function t(){var r=E(G,this);return void 0!==r?t.call(r.target):e.call(this)}}function j(e){var t=E(G,e);return void 0!==t&&Array.isArray(t.target)}"undefined"==typeof WeakMap&&(e.WeakMap=function(){},e.WeakMap.prototype={get:function(e){},set:function(e,t){throw new Error("WeakMap not supported")}});var m,x,T,_,S,A=Object.preventExtensions,k=(Object.seal,Object.freeze,Object.isExtensible),D=(Object.isSealed,Object.isFrozen,Object.getPrototypeOf),R=Object.getOwnPropertyDescriptor,M=Object.defineProperty,N=Object.defineProperties,L=Object.keys,C=Object.getOwnPropertyNames,I=Object.getOwnPropertySymbols,F=Object.assign,V=Array.isArray,K=Array.prototype.concat,z=Object.prototype.isPrototypeOf,B=Object.prototype.hasOwnProperty;w.prototype={getTrap:function(e){var t=this.handler[e];if(void 0!==t){if("function"!=typeof t)throw new TypeError(e+" trap is not callable: "+t);return t}},getOwnPropertyDescriptor:function(e){var t=this.getTrap("getOwnPropertyDescriptor");if(void 0===t)return J.getOwnPropertyDescriptor(this.target,e);e=String(e);var r=t.call(this.handler,this.target,e);r=l(r);var n=Object.getOwnPropertyDescriptor(this.target,e),i=Object.isExtensible(this.target);if(void 0!==r){if(!i&&void 0===n)throw new TypeError("cannot report a new own property '"+e+"' on a non-extensible object");if(void 0!==e&&!d(i,n,r))throw new TypeError("cannot report incompatible property descriptor for property '"+e+"'");if(r.configurable===!1){if(void 0===n||n.configurable===!0)throw new TypeError("cannot report a non-configurable descriptor for configurable or non-existent property '"+e+"'");if("writable"in r&&r.writable===!1&&n.writable===!0)throw new TypeError("cannot report non-configurable, writable property '"+e+"' as non-configurable, non-writable")}return r}if(g(n))throw new TypeError("cannot report non-configurable property '"+e+"' as non-existent");if(!i&&void 0!==n)throw new TypeError("cannot report existing own property '"+e+"' as non-existent on a non-extensible object")},getPropertyDescriptor:function(e){var t=this;if(t.has(e))return{get:function(){return t.get(this,e)},set:function(r){if(t.set(this,e,r))return r;throw new TypeError("failed assignment to "+e)},enumerable:!0,configurable:!0}},defineProperty:function(e,t){var r=this.getTrap("defineProperty");if(void 0===r)return J.defineProperty(this.target,e,t);e=String(e);var n=p(t),i=r.call(this.handler,this.target,e,n);if(i=!!i,i===!0){var a=Object.getOwnPropertyDescriptor(this.target,e),u=Object.isExtensible(this.target);if(!u&&void 0===a)throw new TypeError("cannot successfully add a new property '"+e+"' to a non-extensible object");if(void 0!==a){if(!d(u,a,t))throw new TypeError("cannot define incompatible property descriptor for property '"+e+"'");if(o(a)&&a.configurable===!1&&a.writable===!0&&t.configurable===!1&&t.writable===!1)throw new TypeError("cannot successfully define non-configurable, writable  property '"+e+"' as non-configurable, non-writable")}if(t.configurable===!1&&!g(a))throw new TypeError("cannot successfully define a non-configurable descriptor for configurable or non-existent property '"+e+"'")}return i},preventExtensions:function(){var e=this.getTrap("preventExtensions");if(void 0===e)return J.preventExtensions(this.target);var t=e.call(this.handler,this.target);if(t=!!t,t&&T(this.target))throw new TypeError("can't report extensible object as non-extensible: "+this.target);return t},"delete":function(e){var t=this.getTrap("deleteProperty");if(void 0===t)return J.deleteProperty(this.target,e);e=String(e);var r=t.call(this.handler,this.target,e);r=!!r;var n;if(r===!0){if(n=Object.getOwnPropertyDescriptor(this.target,e),void 0!==n&&n.configurable===!1)throw new TypeError("property '"+e+"' is non-configurable and can't be deleted");if(void 0!==n&&!T(this.target))throw new TypeError("cannot successfully delete existing property '"+e+"' on a non-extensible object")}return r},getOwnPropertyNames:function(){return this.ownKeys()},ownKeys:function(){var e=this.getTrap("ownKeys");if(void 0===e)return J.ownKeys(this.target);for(var t=e.call(this.handler,this.target),r=Object.create(null),n=+t.length,i=new Array(n),o=0;o<n;o++){var a=String(t[o]);if(!Object.isExtensible(this.target)&&!v(a,this.target))throw new TypeError("ownKeys trap cannot list a new property '"+a+"' on a non-extensible object");r[a]=!0,i[o]=a}var u=S(this.target),c=this.target;return u.forEach(function(e){if(!r[e]){if(y(e,c))throw new TypeError("ownKeys trap failed to include non-configurable property '"+e+"'");if(!Object.isExtensible(c)&&v(e,c))throw new TypeError("ownKeys trap cannot report existing own property '"+e+"' as non-existent on a non-extensible object")}}),i},isExtensible:function(){var e=this.getTrap("isExtensible");if(void 0===e)return J.isExtensible(this.target);var t=e.call(this.handler,this.target);t=!!t;var r=T(this.target);if(t!==r)throw t?new TypeError("cannot report non-extensible object as extensible: "+this.target):new TypeError("cannot report extensible object as non-extensible: "+this.target);return r},getPrototypeOf:function(){var e=this.getTrap("getPrototypeOf");if(void 0===e)return J.getPrototypeOf(this.target);var t=e.call(this.handler,this.target);if(!T(this.target)){var r=_(this.target);if(!s(t,r))throw new TypeError("prototype value does not match: "+this.target)}return t},setPrototypeOf:function(e){var t=this.getTrap("setPrototypeOf");if(void 0===t)return J.setPrototypeOf(this.target,e);var r=t.call(this.handler,this.target,e);if(r=!!r,r&&!T(this.target)){var n=_(this.target);if(!s(e,n))throw new TypeError("prototype value does not match: "+this.target)}return r},getPropertyNames:function(){throw new TypeError("getPropertyNames trap is deprecated")},has:function(e){var t=this.getTrap("has");if(void 0===t)return J.has(this.target,e);e=String(e);var r=t.call(this.handler,this.target,e);if(r=!!r,r===!1){if(y(e,this.target))throw new TypeError("cannot report existing non-configurable own property '"+e+"' as a non-existent property");if(!Object.isExtensible(this.target)&&v(e,this.target))throw new TypeError("cannot report existing own property '"+e+"' as non-existent on a non-extensible object")}return r},get:function(e,t){var r=this.getTrap("get");if(void 0===r)return J.get(this.target,t,e);t=String(t);var n=r.call(this.handler,this.target,t,e),a=Object.getOwnPropertyDescriptor(this.target,t);if(void 0!==a)if(o(a)&&a.configurable===!1&&a.writable===!1){if(!s(n,a.value))throw new TypeError("cannot report inconsistent value for non-writable, non-configurable property '"+t+"'")}else if(i(a)&&a.configurable===!1&&void 0===a.get&&void 0!==n)throw new TypeError("must report undefined for non-configurable accessor property '"+t+"' without getter");return n},set:function(e,t,r){var n=this.getTrap("set");if(void 0===n)return J.set(this.target,t,r,e);t=String(t);var a=n.call(this.handler,this.target,t,r,e);if(a=!!a,a===!0){var u=Object.getOwnPropertyDescriptor(this.target,t);if(void 0!==u)if(o(u)&&u.configurable===!1&&u.writable===!1){if(!s(r,u.value))throw new TypeError("cannot successfully assign to a non-writable, non-configurable property '"+t+"'")}else if(i(u)&&u.configurable===!1&&void 0===u.set)throw new TypeError("setting a property '"+t+"' that has  only a getter")}return a},enumerate:function(){var e=this.getTrap("enumerate");if(void 0===e){for(var t=J.enumerate(this.target),r=[],n=t.next();!n.done;)r.push(String(n.value)),n=t.next();return r}var t=e.call(this.handler,this.target);if(null===t||void 0===t||void 0===t.next)throw new TypeError("enumerate trap should return an iterator, got: "+t);for(var i=Object.create(null),r=[],n=t.next();!n.done;){var o=String(n.value);if(i[o])throw new TypeError("enumerate trap cannot list a duplicate property '"+o+"'");i[o]=!0,r.push(o),n=t.next()}var a=Object.keys(this.target),u=this.target;return a.forEach(function(e){if(!i[e]){if(y(e,u))throw new TypeError("enumerate trap failed to include non-configurable enumerable property '"+e+"'");if(!Object.isExtensible(u)&&v(e,u))throw new TypeError("cannot report existing own property '"+e+"' as non-existent on a non-extensible object")}}),r},iterate:w.prototype.enumerate,apply:function(e,t,r){var n=this.getTrap("apply");if(void 0===n)return J.apply(e,t,r);if("function"==typeof this.target)return n.call(this.handler,e,t,r);throw new TypeError("apply: "+e+" is not a function")},construct:function(e,t,r){var n=this.getTrap("construct");if(void 0===n)return J.construct(e,t,r);if("function"!=typeof e)throw new TypeError("new: "+e+" is not a function");if(void 0===r)r=e;else if("function"!=typeof r)throw new TypeError("new: "+r+" is not a function");return n.call(this.handler,e,t,r)}};var G=new WeakMap;Object.preventExtensions=function(e){var t=G.get(e);if(void 0!==t){if(t.preventExtensions())return e;throw new TypeError("preventExtensions on "+e+" rejected")}return A(e)},Object.seal=function(e){return h(e,"sealed"),e},Object.freeze=function(e){return h(e,"frozen"),e},Object.isExtensible=T=function(e){var t=G.get(e);return void 0!==t?t.isExtensible():k(e)},Object.isSealed=x=function(e){return b(e,"sealed")},Object.isFrozen=m=function(e){return b(e,"frozen")},Object.getPrototypeOf=_=function(e){var t=G.get(e);return void 0!==t?t.getPrototypeOf():D(e)},Object.getOwnPropertyDescriptor=function(e,t){var r=G.get(e);return void 0!==r?r.getOwnPropertyDescriptor(t):R(e,t)},Object.defineProperty=function(e,t,r){var n=G.get(e);if(void 0!==n){var i=p(r),o=n.defineProperty(t,i);if(o===!1)throw new TypeError("can't redefine property '"+t+"'");return e}return M(e,t,r)},Object.defineProperties=function(e,t){var r=G.get(e);if(void 0!==r){for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],a=p(t[o]),u=r.defineProperty(o,a);if(u===!1)throw new TypeError("can't redefine property '"+o+"'")}return e}return N(e,t)},Object.keys=function(e){var t=G.get(e);if(void 0!==t){for(var r=t.ownKeys(),n=[],i=0;i<r.length;i++){var o=String(r[i]),a=Object.getOwnPropertyDescriptor(e,o);void 0!==a&&a.enumerable===!0&&n.push(o)}return n}return L(e)},Object.getOwnPropertyNames=S=function(e){var t=G.get(e);return void 0!==t?t.ownKeys():C(e)},void 0!==I&&(Object.getOwnPropertySymbols=function(e){var t=G.get(e);return void 0!==t?[]:I(e)}),void 0!==F&&(Object.assign=function(e){for(var t=!0,r=0;r<arguments.length;r++){var n=G.get(arguments[r]);if(void 0!==n){t=!1;break}}if(t)return F.apply(Object,arguments);if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var a=arguments[o];if(void 0!==a&&null!==a)for(var u in a)a.hasOwnProperty(u)&&(i[u]=a[u])}return i}),Object.prototype.valueOf=P(Object.prototype.valueOf),Object.prototype.toString=P(Object.prototype.toString),Function.prototype.toString=P(Function.prototype.toString),Date.prototype.toString=P(Date.prototype.toString),Object.prototype.isPrototypeOf=function(e){for(;;){var t=E(G,e);if(void 0===t)return z.call(this,e);if(e=t.getPrototypeOf(),null===e)return!1;if(s(e,this))return!0}},Array.isArray=function(e){var t=E(G,e);return void 0!==t?Array.isArray(t.target):V(e)},Array.prototype.concat=function(){for(var e,t=0;t<arguments.length;t++)j(arguments[t])&&(e=arguments[t].length,arguments[t]=Array.prototype.slice.call(arguments[t],0,e));return K.apply(this,arguments)};var W=Object.setPrototypeOf,H=function(){var e=R(Object.prototype,"__proto__");if(void 0===e||"function"!=typeof e.set)return function(){throw new TypeError("setPrototypeOf not supported on this platform")};try{e.set.call({},{})}catch(t){return function(){throw new TypeError("setPrototypeOf not supported on this platform")}}return M(Object.prototype,"__proto__",{set:function(e){return Object.setPrototypeOf(this,Object(e))}}),e.set}();Object.setPrototypeOf=function(e,t){var r=G.get(e);if(void 0!==r){if(r.setPrototypeOf(t))return e;throw new TypeError("proxy rejected prototype mutation")}if(!T(e))throw new TypeError("can't set prototype on non-extensible object: "+e);if(W)return W(e,t);if(Object(t)!==t||null===t)throw new TypeError("Object prototype may only be an Object or null: "+t);return H.call(e,t),e},Object.prototype.hasOwnProperty=function(e){var t=E(G,this);if(void 0!==t){var r=t.getOwnPropertyDescriptor(e);return void 0!==r}return B.call(this,e)};var J=e.Reflect={getOwnPropertyDescriptor:function(e,t){return Object.getOwnPropertyDescriptor(e,t)},defineProperty:function(e,t,r){var n=G.get(e);if(void 0!==n)return n.defineProperty(e,t,r);var u=Object.getOwnPropertyDescriptor(e,t),l=Object.isExtensible(e);if(void 0===u&&l===!1)return!1;if(void 0===u&&l===!0)return Object.defineProperty(e,t,r),!0;if(c(r))return!0;if(f(u,r))return!0;if(u.configurable===!1){if(r.configurable===!0)return!1;if("enumerable"in r&&r.enumerable!==u.enumerable)return!1}if(a(r));else if(o(u)!==o(r)){if(u.configurable===!1)return!1}else if(o(u)&&o(r)){if(u.configurable===!1){if(u.writable===!1&&r.writable===!0)return!1;if(u.writable===!1&&"value"in r&&!s(r.value,u.value))return!1}}else if(i(u)&&i(r)&&u.configurable===!1){if("set"in r&&!s(r.set,u.set))return!1;if("get"in r&&!s(r.get,u.get))return!1}return Object.defineProperty(e,t,r),!0},deleteProperty:function(e,t){var r=G.get(e);if(void 0!==r)return r["delete"](t);var n=Object.getOwnPropertyDescriptor(e,t);return void 0===n||n.configurable===!0&&(delete e[t],!0)},getPrototypeOf:function(e){return Object.getPrototypeOf(e)},setPrototypeOf:function(e,t){var r=G.get(e);if(void 0!==r)return r.setPrototypeOf(t);if(Object(t)!==t||null===t)throw new TypeError("Object prototype may only be an Object or null: "+t);if(!T(e))return!1;var n=Object.getPrototypeOf(e);if(s(n,t))return!0;if(W)try{return W(e,t),!0}catch(i){return!1}return H.call(e,t),!0},preventExtensions:function(e){var t=G.get(e);return void 0!==t?t.preventExtensions():(A(e),!0)},isExtensible:function(e){return Object.isExtensible(e)},has:function(e,t){return t in e},get:function(e,t,r){r=r||e;var n=G.get(e);if(void 0!==n)return n.get(r,t);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var a=Object.getPrototypeOf(e);if(null===a)return;return J.get(a,t,r)}if(o(i))return i.value;var u=i.get;if(void 0!==u)return i.get.call(r)},set:function(e,t,r,n){n=n||e;var o=G.get(e);if(void 0!==o)return o.set(n,t,r);var a=Object.getOwnPropertyDescriptor(e,t);if(void 0===a){var u=Object.getPrototypeOf(e);if(null!==u)return J.set(u,t,r,n);a={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if(i(a)){var c=a.set;return void 0!==c&&(c.call(n,r),!0)}if(a.writable===!1)return!1;var f=Object.getOwnPropertyDescriptor(n,t);if(void 0!==f){var s={value:r,writable:f.writable,enumerable:f.enumerable,configurable:f.configurable};return Object.defineProperty(n,t,s),!0}if(!Object.isExtensible(n))return!1;var l={value:r,writable:!0,enumerable:!0,configurable:!0};return Object.defineProperty(n,t,l),!0},enumerate:function(e){var t,r=G.get(e);if(void 0!==r)t=r.enumerate(r.target);else{t=[];for(var n in e)t.push(n)}var i=+t.length,o=0;return{next:function(){return o===i?{done:!0}:{done:!1,value:t[o++]}}}},ownKeys:function(e){return S(e)},apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},construct:function(e,t,r){var n=G.get(e);if(void 0!==n)return n.construct(n.target,t,r);if("function"!=typeof e)throw new TypeError("target is not a function: "+e);if(void 0===r)r=e;else if("function"!=typeof r)throw new TypeError("newTarget is not a function: "+e);return new(Function.prototype.bind.apply(r,[null].concat(t)))}};if("undefined"!=typeof Proxy&&"undefined"!=typeof Proxy.create){var U=Proxy.create,$=Proxy.createFunction,q=U({get:function(){throw new TypeError("proxy is revoked")}});e.Proxy=function(e,t){if(Object(e)!==e)throw new TypeError("Proxy target must be an Object, given "+e);if(Object(t)!==t)throw new TypeError("Proxy handler must be an Object, given "+t);var r,n=new w(e,t);return r="function"==typeof e?$(n,function(){var t=Array.prototype.slice.call(arguments);return n.apply(e,this,t)},function(){var t=Array.prototype.slice.call(arguments);return n.construct(e,t)}):U(n,Object.getPrototypeOf(e)),G.set(r,n),r},e.Proxy.revocable=function(e,t){var r=new Proxy(e,t),n=function(){var e=G.get(r);null!==e&&(e.target=null,e.handler=q)};return{proxy:r,revoke:n}},e.Proxy.create=U,e.Proxy.createFunction=$}else"undefined"==typeof Proxy&&(e.Proxy=function(e,t){throw new Error("proxies not supported on this platform. On v8/node/iojs, make sure to pass the --harmony_proxies flag")});Object.keys(J).forEach(function(e){t[e]=J[e]})}(e)}).call(t,function(){return this}())},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.paramNotRegisteredException=function(e){return new Error("Parameter '"+e+"' not registered in flask.")},t.serviceNotRegisteredException=function(e){return new Error("Service '"+e+"' not registered in flask.")},t.tagNotRegisteredException=function(e){return new Error("Tag '"+e+"' not registered in flask.")},t.paramAlreadyExistsException=function(e){return new Error("Parameter '"+e+"' already exists in flask.")},t.serviceAlreadyExistsException=function(e){return new Error("Service '"+e+"' already exists in flask.")},t.circularDependencyParameterError=function(e){return new Error("Circular dependency in parameter '"+e+"'")},t.circularDependencyServiceError=function(e){return new Error("Circular dependency in service '"+e+"'")}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.configureFlask=void 0;var i=r(5),o=n(i),a=r(8),u=(t.configureFlask=function(e,t){u(o["default"].get(e,"config")||{},t),o["default"].has(e,"parameters")&&c(e.parameters,t),o["default"].has(e,"services")&&f(e.services,t),o["default"].has(e,"listeners")&&l(e.listeners,t)},function(e,t){t.setConfigValue("serviceDelimiter",o["default"].has(e,"serviceDelimiter")?e.serviceDelimiter:a.SERVICE_DELIMITER_CHAR),t.setConfigValue("paramDelimiter",o["default"].has(e,"paramDelimiter")?e.paramDelimiter:a.PARAMETER_DELIMITER_CHAR)}),c=function(e,t){for(var r in e)t.parameter(r,e[r])},f=function(e,t){for(var r in e){var n=o["default"].get(e[r],"service"),i=o["default"].get(e[r],"arguments")||[],a=o["default"].get(e[r],"tags")||[],u=o["default"].get(e[r],"listeners")||{},c=o["default"].get(e[r],"singleton")||!1;c===!0?t.singleton(r,n,i):t.service(r,n,i),s(r,a,t),p(r,u,t)}},s=function(e,t,r){Array.isArray(t)||(t=[t]);for(var n in t)r.tag(t[n],e)},l=function(e,t){for(var r in e)for(var n in e[r])t.listen(r,e[r][n])},p=function(e,t,r){for(var n in t)for(var i in t[n])r.listen(n,e,t[n][i])}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PARAMETER_DELIMITER_CHAR="%",t.SERVICE_DELIMITER_CHAR="@",t.GLOBAL_LISTENER_NAME="__global__",t.RESOLVED_LISTENER_NAME="resolved"},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Parameter=t.Singleton=t.Service=void 0;var i=r(10),o=n(i),a=r(11),u=n(a),c=r(12),f=n(c);t.Service=o["default"],t.Singleton=u["default"],t.Parameter=f["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(5),u=n(a),c=function(){function e(t,r,n){i(this,e),this.alias=t,this.definition=r,this.args=n}return o(e,[{key:"build",value:function(e){return u["default"].construct(this.definition,e)}}]),e}();t["default"]=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function p(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:p(i,t,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},f=r(10),s=n(f),l=function(e){function t(e,r,n){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,n));return a.instance=null,a}return a(t,e),u(t,[{
key:"build",value:function(e){return null!==this.instance?this.instance:this.instance=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"build",this).call(this,e)}}]),t}(s["default"]);t["default"]=l},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function i(e,t){r(this,i),this.alias=e,this.value=t};t["default"]=n}]);